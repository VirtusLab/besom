"use strict";(self.webpackChunkbesom_website=self.webpackChunkbesom_website||[]).push([[539],{7428:(e,s,n)=>{n.r(s),n.d(s,{assets:()=>a,contentTitle:()=>l,default:()=>h,frontMatter:()=>o,metadata:()=>i,toc:()=>c});const i=JSON.parse('{"id":"changelog","title":"Changelog","description":"0.5.0 (01-10-2025)","source":"@site/docs/changelog.md","sourceDirName":".","slug":"/changelog","permalink":"/besom/docs/changelog","draft":false,"unlisted":false,"editUrl":"https://github.com/VirtusLab/besom/tree/main/website/docs/changelog.md","tags":[],"version":"current","frontMatter":{"title":"Changelog"},"sidebar":"docsSidebar","previous":{"title":"Pulumi templates","permalink":"/besom/docs/templates"}}');var t=n(4848),r=n(8453);const o={title:"Changelog"},l=void 0,a={},c=[{value:"Core API",id:"core-api",level:4},{value:"Kubernetes provider",id:"kubernetes-provider",level:4},{value:"New examples:",id:"new-examples",level:4},{value:"About Besom 0.4.0",id:"about-besom-040",level:4},{value:"0.3.2 (11-06-2024)",id:"032-11-06-2024",level:2},{value:"0.3.1 (19-04-2024)",id:"031-19-04-2024",level:2},{value:"0.3.0 (16-04-2024)",id:"030-16-04-2024",level:2},{value:"API Changes and New Features",id:"api-changes-and-new-features",level:3},{value:"Bug Fixes",id:"bug-fixes",level:3},{value:"Other Changes",id:"other-changes",level:3},{value:"0.2.2 (22-02-2024)",id:"022-22-02-2024",level:2},{value:"Bug Fixes",id:"bug-fixes-1",level:3},{value:"Other Changes",id:"other-changes-1",level:3},{value:"0.2.1 (15-02-2024)",id:"021-15-02-2024",level:2},{value:"Bug Fixes",id:"bug-fixes-2",level:3},{value:"0.2.0 (08-02-2024)",id:"020-08-02-2024",level:2},{value:"API Changes",id:"api-changes",level:3},{value:"New Features",id:"new-features",level:3},{value:"Bug Fixes",id:"bug-fixes-3",level:3},{value:"Other Changes",id:"other-changes-2",level:3}];function d(e){const s={a:"a",code:"code",em:"em",h2:"h2",h3:"h3",h4:"h4",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,r.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(s.p,{children:"0.5.0 (01-10-2025)"}),"\n",(0,t.jsx)(s.p,{children:"Besom is no longer in beta. 0.5.0 is considered stable-candidate and will be the last version before 1.0.0."}),"\n",(0,t.jsx)(s.h4,{id:"core-api",children:"Core API"}),"\n",(0,t.jsxs)(s.ul,{children:["\n",(0,t.jsxs)(s.li,{children:[(0,t.jsxs)(s.a,{href:"https://github.com/VirtusLab/besom/pull/522",children:[(0,t.jsx)(s.code,{children:"withArgs"})," (copy) method added to args companion objects for all Args classes"]}),". This allows for Args reuse between similar resources."]}),"\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.a,{href:"https://github.com/VirtusLab/besom/pull/528",children:"StackReferences can now be typed statically"})," by just providing the target type to which exports are to be loaded."]}),"\n",(0,t.jsxs)(s.li,{children:["The ",(0,t.jsx)(s.code,{children:"(using Context)"})," clause has been dropped from many APIs due to the introduction of built-in reader monad into the ",(0,t.jsx)(s.code,{children:"Output"})," monad's internals that passes ",(0,t.jsx)(s.code,{children:"Context"})," internally. It is now only required where ",(0,t.jsx)(s.code,{children:"Context"})," is used to establish resource parenthood relationships or where free functions require access to the data related to the current stack."]}),"\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.a,{href:"https://github.com/VirtusLab/besom/pull/526",children:"Fixed codegen issue"})," where ",(0,t.jsx)(s.code,{children:'"plain"'})," input parameters were generated as ",(0,t.jsx)(s.code,{children:"Input"}),"s instead of raw arguments. This fixes a whole category of smaller issues with providers."]}),"\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.a,{href:"https://github.com/VirtusLab/besom/pull/524",children:"Code-generated output classes"})," now use ",(0,t.jsx)(s.code,{children:"Output"})," types for all fields. This ensures that deserialization errors are isolated to individual fields and that field secrecy is handled with finer granularity."]}),"\n",(0,t.jsxs)(s.li,{children:["All public APIs ",(0,t.jsxs)(s.a,{href:"https://github.com/VirtusLab/besom/pull/529",children:["now take ",(0,t.jsx)(s.code,{children:"Iterable[A]"})," instead of ",(0,t.jsx)(s.code,{children:"List[A]"})]}),". This allows greater flexibility of the user API - no more ",(0,t.jsx)(s.code,{children:".toList"}),"!"]}),"\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.a,{href:"https://www.pulumi.com/docs/concepts/options/aliases/",children:"Resource aliases"})," are now ",(0,t.jsx)(s.a,{href:"https://github.com/VirtusLab/besom/pull/532",children:"implemented"}),"!"]}),"\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.a,{href:"https://github.com/VirtusLab/besom/pull/558",children:"Codegen now supports hotfixes"})," allowing usage of many previously blocked packages."]}),"\n",(0,t.jsx)(s.li,{children:"Various fixes and optimizations to codegen in preparation for full automation of release pipeline. Examples are now used as complete end to end tests before releases."}),"\n"]}),"\n",(0,t.jsx)(s.h4,{id:"kubernetes-provider",children:"Kubernetes provider"}),"\n",(0,t.jsxs)(s.ul,{children:["\n",(0,t.jsxs)(s.li,{children:["Added Custom Resource and Custom Resource Patch support ",(0,t.jsx)(s.a,{href:"https://github.com/VirtusLab/besom/pull/531",children:"in Kubernetes provider"})," via overlays mechanism."]}),"\n",(0,t.jsxs)(s.li,{children:["We now support generation of resource classes from Kubernetes Custom Resource Definitions via ",(0,t.jsx)(s.a,{href:"https://github.com/VirtusLab/besom/pull/534",children:"command line tool crd2besom"})," ",(0,t.jsx)(s.em,{children:"(experimental)"}),"."]}),"\n"]}),"\n",(0,t.jsx)(s.h4,{id:"new-examples",children:"New examples:"}),"\n",(0,t.jsxs)(s.ul,{children:["\n",(0,t.jsx)(s.li,{children:(0,t.jsx)(s.a,{href:"https://github.com/VirtusLab/besom/tree/main/examples/gcp-functions",children:"GCP Functions"})}),"\n",(0,t.jsx)(s.li,{children:(0,t.jsx)(s.a,{href:"https://github.com/VirtusLab/besom/tree/main/examples/gcp-instance-nginx",children:"GCP Instance + Nginx"})}),"\n",(0,t.jsx)(s.li,{children:(0,t.jsx)(s.a,{href:"https://github.com/VirtusLab/besom/tree/main/examples/gcp-firebase",children:"Google Firestore"})}),"\n",(0,t.jsx)(s.li,{children:(0,t.jsx)(s.a,{href:"https://github.com/VirtusLab/besom/tree/main/examples/gcp-big-query",children:"Google Cloud BigQuery"})}),"\n",(0,t.jsx)(s.li,{children:(0,t.jsx)(s.a,{href:"https://github.com/VirtusLab/besom/tree/main/examples/azure-aci",children:"Azure ACI"})}),"\n",(0,t.jsx)(s.li,{children:(0,t.jsx)(s.a,{href:"https://github.com/VirtusLab/besom/tree/main/examples/kubernetes-keycloak",children:"Kubernetes + Keycloak"})}),"\n",(0,t.jsx)(s.li,{children:(0,t.jsx)(s.a,{href:"https://github.com/VirtusLab/besom/tree/main/examples/azure-cosmosdb-logicapp",children:"Azure CosmosDB + LogicApp"})}),"\n",(0,t.jsx)(s.li,{children:(0,t.jsx)(s.a,{href:"https://github.com/VirtusLab/besom/tree/main/examples/aws-redshift-glue-etl",children:"ETL pipeline with Amazon Redshift + AWS Glue"})}),"\n",(0,t.jsx)(s.li,{children:(0,t.jsx)(s.a,{href:"https://github.com/VirtusLab/besom/tree/main/examples/azure-synapse",children:"Azure Synapse Workspace and Pools"})}),"\n",(0,t.jsx)(s.li,{children:(0,t.jsx)(s.a,{href:"https://github.com/VirtusLab/besom/tree/main/examples/azure-webapp-privateendpoint-vnet-injection",children:"Azure web app with Private Endpoint and VNet injection"})}),"\n"]}),"\n",(0,t.jsxs)(s.p,{children:[(0,t.jsx)(s.strong,{children:"Full Changelog"}),": ",(0,t.jsx)(s.a,{href:"https://github.com/VirtusLab/besom/compare/v0.3.2...v0.5.0",children:"https://github.com/VirtusLab/besom/compare/v0.3.2...v0.5.0"})]}),"\n",(0,t.jsx)(s.h4,{id:"about-besom-040",children:"About Besom 0.4.0"}),"\n",(0,t.jsxs)(s.p,{children:["Besom 0.4.0 was released in March of 2025 but, unfortunately, it did incorporate a significant correctness bug that impacted any user code that depended on the Component API. This issue was present in both Core SDK ",(0,t.jsx)(s.em,{children:"and"})," all packages generated by codegen of the 0.4.0 release. As the bug was found in the late smoke testing procedure of the release, most of the provider packages were already published to Maven Central. The release on Github was not published at the time and therefore the decision was made to scrap the whole release, not announce it, treat is as dead-on-arrival and to patch both Core SDK and Codegen and re-release everything once more."]}),"\n",(0,t.jsx)(s.p,{children:(0,t.jsx)(s.strong,{children:"tl;dr: Do not use Besom 0.4.0. Skip to 0.5.0 directly from 0.3.2."})}),"\n",(0,t.jsx)(s.h2,{id:"032-11-06-2024",children:"0.3.2 (11-06-2024)"}),"\n",(0,t.jsxs)(s.ul,{children:["\n",(0,t.jsxs)(s.li,{children:["Added missing ",(0,t.jsx)(s.code,{children:"provider"})," / ",(0,t.jsx)(s.code,{children:"providers"})," field on resources to fix #397 (@lbialy in ",(0,t.jsx)(s.a,{href:"https://github.com/VirtusLab/besom/pull/505",children:"505"}),")"]}),"\n",(0,t.jsxs)(s.li,{children:["Exposed ",(0,t.jsx)(s.code,{children:"CustomTimeouts"})," resource option configuration value (@lbialy in ",(0,t.jsx)(s.a,{href:"https://github.com/VirtusLab/besom/pull/502",children:"502"}),")"]}),"\n",(0,t.jsxs)(s.li,{children:["Fixed issue 489 where ANSI control chars crashed internal logging (@lbialy in ",(0,t.jsx)(s.a,{href:"https://github.com/VirtusLab/besom/pull/492",children:"492"}),")"]}),"\n",(0,t.jsxs)(s.li,{children:["First working draft of Automation API (sync, Either-monad based) (@pawelprazak in ",(0,t.jsx)(s.a,{href:"https://github.com/VirtusLab/besom/pull/336",children:"336"}),")"]}),"\n",(0,t.jsxs)(s.li,{children:["Fixed issues with eviction of dependencies of core besom library (@lbialy in ",(0,t.jsx)(s.a,{href:"https://github.com/VirtusLab/besom/pull/500",children:"500"}),")"]}),"\n",(0,t.jsxs)(s.li,{children:["Fixed bug that crashed besom when resource options were provided for component resource (@lbialy in ",(0,t.jsx)(s.a,{href:"https://github.com/VirtusLab/besom/pull/502",children:"502"}),")"]}),"\n",(0,t.jsxs)(s.li,{children:["First working draft of Besom Configure (besom-cfg) (Kubernetes only) (@lbialy in ",(0,t.jsx)(s.a,{href:"https://github.com/VirtusLab/besom/pull/494",children:"494"}),")"]}),"\n",(0,t.jsxs)(s.li,{children:["Allow passing options to scala-cli via language plugin executor (@lbialy in ",(0,t.jsx)(s.a,{href:"https://github.com/VirtusLab/besom/pull/503",children:"503"}),")"]}),"\n"]}),"\n",(0,t.jsx)(s.p,{children:"New examples:"}),"\n",(0,t.jsxs)(s.ul,{children:["\n",(0,t.jsxs)(s.li,{children:["Add AWS API Gateway V2 with EventBridge example by @polkx in ",(0,t.jsx)(s.a,{href:"https://github.com/VirtusLab/besom/pull/479",children:"https://github.com/VirtusLab/besom/pull/479"})]}),"\n"]}),"\n",(0,t.jsxs)(s.p,{children:[(0,t.jsx)(s.strong,{children:"Full Changelog"}),": ",(0,t.jsx)(s.a,{href:"https://github.com/VirtusLab/besom/compare/v0.3.1...v0.3.2",children:"https://github.com/VirtusLab/besom/compare/v0.3.1...v0.3.2"})]}),"\n",(0,t.jsx)(s.h2,{id:"031-19-04-2024",children:"0.3.1 (19-04-2024)"}),"\n",(0,t.jsxs)(s.ul,{children:["\n",(0,t.jsxs)(s.li,{children:["\n",(0,t.jsxs)(s.p,{children:["Support for ",(0,t.jsx)(s.code,{children:"ConfigGroup"}),", ",(0,t.jsx)(s.code,{children:"ConfigFile"})," resources in ",(0,t.jsx)(s.a,{href:"https://www.pulumi.com/blog/kubernetes-yaml-v2/",children:"Kubernetes provider 4.11.0+"}),"\nis now available in Besom!"]}),"\n"]}),"\n",(0,t.jsxs)(s.li,{children:["\n",(0,t.jsxs)(s.p,{children:["Added new combinators on ",(0,t.jsx)(s.code,{children:"Output"}),":"]}),"\n",(0,t.jsxs)(s.ul,{children:["\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.code,{children:"recover"})," allows to map an error inside of a failed ",(0,t.jsx)(s.code,{children:"Output"})," to a new value"]}),"\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.code,{children:"recoverWith"})," allows the same but using an effectful function returning either an ",(0,t.jsx)(s.code,{children:"Output"})," or any\nother supported effect, e.g.: ",(0,t.jsx)(s.code,{children:"Future"}),", ",(0,t.jsx)(s.code,{children:"IO"})," or ",(0,t.jsx)(s.code,{children:"Task"})]}),"\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.code,{children:"tap"})," allows to access the value of an ",(0,t.jsx)(s.code,{children:"Output"})," and apply an effectful function to it while\ndiscarding said function's results"]}),"\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.code,{children:"tapError"})," allows the same but for an error of a failed ",(0,t.jsx)(s.code,{children:"Output"})]}),"\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.code,{children:"tapBoth"})," takes two effectful function and allows to access either error or value of an ",(0,t.jsx)(s.code,{children:"Output"})," by\napplying one of them to the contents of the ",(0,t.jsx)(s.code,{children:"Output"})]}),"\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.code,{children:"void"})," discards the value of an ",(0,t.jsx)(s.code,{children:"Output"}),", comes with a static constructor function - ",(0,t.jsx)(s.code,{children:"Output.unit"})]}),"\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.code,{children:"unzip"})," can be called on an ",(0,t.jsx)(s.code,{children:"Output"})," of a tuple to receive a tuple of ",(0,t.jsx)(s.code,{children:"Output"}),"s, all of which are\ndescendents of the original ",(0,t.jsx)(s.code,{children:"Output"})]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(s.p,{children:[(0,t.jsx)(s.strong,{children:"Full Changelog"}),": ",(0,t.jsx)(s.a,{href:"https://github.com/VirtusLab/besom/compare/v0.3.0...v0.3.1",children:"GitHub (v0.3.0...v0.3.1)"})]}),"\n",(0,t.jsx)(s.h2,{id:"030-16-04-2024",children:"0.3.0 (16-04-2024)"}),"\n",(0,t.jsx)(s.h3,{id:"api-changes-and-new-features",children:"API Changes and New Features"}),"\n",(0,t.jsxs)(s.ul,{children:["\n",(0,t.jsxs)(s.li,{children:["Added new ",(0,t.jsx)(s.code,{children:"besom.json"})," interpolation API. Now this snippet from our tutorial:"]}),"\n"]}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-scala",children:'s3.BucketPolicyArgs(\n  bucket = feedBucket.id,\n  policy = JsObject(\n    "Version" -> JsString("2012-10-17"),\n    "Statement" -> JsArray(\n      JsObject(\n        "Sid" -> JsString("PublicReadGetObject"),\n        "Effect" -> JsString("Allow"),\n        "Principal" -> JsObject(\n          "AWS" -> JsString("*")\n        ),\n        "Action" -> JsArray(JsString("s3:GetObject")),\n        "Resource" -> JsArray(JsString(s"arn:aws:s3:::${name}/*"))\n      )\n    )\n  ).prettyPrint\n)\n'})}),"\n",(0,t.jsx)(s.p,{children:"can be rewritten as:"}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-scala",children:'s3.BucketPolicyArgs(\n  bucket = feedBucket.id,\n  policy = json"""{\n    "Version": "2012-10-17",\n    "Statement": [{\n      "Sid": "PublicReadGetObject",\n      "Effect": "Allow",\n      "Principal": {\n        "AWS": "*"\n      },\n      "Action": ["s3:GetObject"],\n      "Resource": ["arn:aws:s3::${name}/*"]\n    }]\n  }""".map(_.prettyPrint)\n)\n'})}),"\n",(0,t.jsxs)(s.p,{children:["The json interpolator returns an ",(0,t.jsx)(s.code,{children:"Output[JsValue]"})," and is fully ",(0,t.jsx)(s.strong,{children:"compile-time type safe"})," and verifies JSON string for correctness.\nThe only types that can be interpolated are ",(0,t.jsx)(s.code,{children:"String"}),", ",(0,t.jsx)(s.code,{children:"Int"}),", ",(0,t.jsx)(s.code,{children:"Short"}),", ",(0,t.jsx)(s.code,{children:"Long"}),", ",(0,t.jsx)(s.code,{children:"Float"}),", ",(0,t.jsx)(s.code,{children:"Double"}),", ",(0,t.jsx)(s.code,{children:"JsValue"})," and ",(0,t.jsx)(s.code,{children:"Option"})," and ",(0,t.jsx)(s.code,{children:"Output"}),"\nof the former (in whatever amount of nesting). If you need to interpolate a more complex type it's advised to derive a ",(0,t.jsx)(s.code,{children:"JsonFormat"}),"\nfor it and convert it to ",(0,t.jsx)(s.code,{children:"JsValue"}),"."]}),"\n",(0,t.jsxs)(s.ul,{children:["\n",(0,t.jsxs)(s.li,{children:["\n",(0,t.jsxs)(s.p,{children:["Package ",(0,t.jsx)(s.code,{children:"besom.json"})," was modified to ease the use of ",(0,t.jsx)(s.code,{children:"JsonFormat"})," derivation. This change is breaking compatibility by exporting\ndefault instances from ",(0,t.jsx)(s.code,{children:"DefaultJsonProtocol"})," and providing a given ",(0,t.jsx)(s.code,{children:"JsonProtocol"})," instance for use with ",(0,t.jsx)(s.code,{children:"derives JsonFormat"}),".\nIf you need to define a custom ",(0,t.jsx)(s.code,{children:"JsonProcol"})," change the import to ",(0,t.jsx)(s.code,{children:"import besom.json.custom.*"})," which preserves the older semantics\nfrom spray-json and requires manual extension of ",(0,t.jsx)(s.code,{children:"DefaultJsonProtocol"}),"."]}),"\n"]}),"\n",(0,t.jsxs)(s.li,{children:["\n",(0,t.jsxs)(s.p,{children:["Derived ",(0,t.jsx)(s.code,{children:"JsonFormat"})," from package ",(0,t.jsx)(s.code,{children:"besom.json"})," now respects arguments with default values. In conjunction with the previous change\nit means one can now use it like this:"]}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-scala",children:'import besom.json.*\n\ncase class Color(name: String, red: Int, green: Int, blue: Int = 160) derives JsonFormat\nval color = Color("CadetBlue", 95, 158)\n\nval json = """{"name":"CadetBlue","red":95,"green":158}"""\n\nassert(color.toJson.convertTo[Color] == color)\nassert(json.parseJson.convertTo[Color] == color)\n'})}),"\n",(0,t.jsx)(s.h3,{id:"bug-fixes",children:"Bug Fixes"}),"\n",(0,t.jsxs)(s.ul,{children:["\n",(0,t.jsxs)(s.li,{children:["fixed infinite loop in encoders ",(0,t.jsx)(s.a,{href:"https://github.com/VirtusLab/besom/issues/407",children:"#407"})," when a recursive type is encountered"]}),"\n",(0,t.jsxs)(s.li,{children:["fixed cause passing in ",(0,t.jsx)(s.code,{children:"AggregateException"})," to improve debugging of decoders ",(0,t.jsx)(s.a,{href:"https://github.com/VirtusLab/besom/issues/426",children:"#426"})]}),"\n",(0,t.jsxs)(s.li,{children:["fixed Pulumi side effects memoization issues in Component API ",(0,t.jsx)(s.a,{href:"https://github.com/VirtusLab/besom/pull/429",children:"#429"})]}),"\n",(0,t.jsxs)(s.li,{children:["fixed traverse problem caused by export bug in compiler with a temporary workaround ",(0,t.jsx)(s.a,{href:"https://github.com/VirtusLab/besom/issues/430",children:"#430"})]}),"\n"]}),"\n",(0,t.jsx)(s.h3,{id:"other-changes",children:"Other Changes"}),"\n",(0,t.jsxs)(s.ul,{children:["\n",(0,t.jsxs)(s.li,{children:["custom timeouts have scaladocs now ",(0,t.jsx)(s.a,{href:"https://github.com/VirtusLab/besom/pull/419",children:"#419"})]}),"\n",(0,t.jsxs)(s.li,{children:["overhauled serde layer with refined outputs implemented to improve parity with upstream Pulumi engine ",(0,t.jsx)(s.a,{href:"https://github.com/VirtusLab/besom/pull/414",children:"#414"})]}),"\n",(0,t.jsxs)(s.li,{children:["StackReferences are now documented ",(0,t.jsx)(s.a,{href:"https://github.com/VirtusLab/besom/pull/428",children:"#428"})]}),"\n",(0,t.jsxs)(s.li,{children:["updated AWS EKS hello world example ",(0,t.jsx)(s.a,{href:"https://github.com/VirtusLab/besom/pull/399/files",children:"#399"})]}),"\n",(0,t.jsxs)(s.li,{children:["Component API now disallows returning component instances wrapped in Outputs to prevent users from dry run issues ",(0,t.jsx)(s.a,{href:"https://github.com/VirtusLab/besom/pull/441",children:"#441"})]}),"\n",(0,t.jsxs)(s.li,{children:["added ",(0,t.jsx)(s.code,{children:"parSequence"})," and ",(0,t.jsx)(s.code,{children:"parTraverse"})," combinators on ",(0,t.jsx)(s.code,{children:"Output"})," ",(0,t.jsx)(s.a,{href:"https://github.com/VirtusLab/besom/pull/440",children:"#440"})]}),"\n",(0,t.jsxs)(s.li,{children:["added ",(0,t.jsx)(s.code,{children:"Output.when"})," combinator ",(0,t.jsx)(s.a,{href:"https://github.com/VirtusLab/besom/pull/439",children:"#439"})]}),"\n",(0,t.jsxs)(s.li,{children:["improved compilation errors around ",(0,t.jsx)(s.code,{children:"Output.eval"})," and ",(0,t.jsx)(s.code,{children:"Output#flatMap"})," ",(0,t.jsx)(s.a,{href:"https://github.com/VirtusLab/besom/pull/443",children:"#443"})]}),"\n",(0,t.jsxs)(s.li,{children:["all ",(0,t.jsx)(s.code,{children:"Output"})," combinators have scaladocs now ",(0,t.jsx)(s.a,{href:"https://github.com/VirtusLab/besom/pull/445",children:"#445"})]}),"\n",(0,t.jsxs)(s.li,{children:["added extension-based combinators for ",(0,t.jsx)(s.code,{children:"Output[Option[A]]"}),", ",(0,t.jsx)(s.code,{children:"Output[List[A]]"})," etc ",(0,t.jsx)(s.a,{href:"https://github.com/VirtusLab/besom/pull/445",children:"#445"})]}),"\n",(0,t.jsxs)(s.li,{children:["added support for overlays (package-specific extensions) in besom ",(0,t.jsx)(s.code,{children:"codegen"}),", this opens a way for support of Helm, magic lambdas and other advanced features ",(0,t.jsx)(s.a,{href:"https://github.com/VirtusLab/besom/pull/402",children:"#402"})]}),"\n"]}),"\n",(0,t.jsxs)(s.p,{children:[(0,t.jsx)(s.strong,{children:"Full Changelog"}),": ",(0,t.jsx)(s.a,{href:"https://github.com/VirtusLab/besom/compare/v0.2.2...v0.3.0",children:"GitHub (v0.2.2...v0.3.0)"})]}),"\n",(0,t.jsx)(s.h2,{id:"022-22-02-2024",children:"0.2.2 (22-02-2024)"}),"\n",(0,t.jsx)(s.h3,{id:"bug-fixes-1",children:"Bug Fixes"}),"\n",(0,t.jsxs)(s.ul,{children:["\n",(0,t.jsxs)(s.li,{children:["fixed component argument serialization issue ",(0,t.jsx)(s.a,{href:"https://github.com/VirtusLab/besom/pull/398",children:"398"})]}),"\n"]}),"\n",(0,t.jsx)(s.h3,{id:"other-changes-1",children:"Other Changes"}),"\n",(0,t.jsxs)(s.ul,{children:["\n",(0,t.jsxs)(s.li,{children:["added Kubernetes guestbook example ",(0,t.jsx)(s.a,{href:"https://github.com/VirtusLab/besom/pull/395",children:"395"})]}),"\n"]}),"\n",(0,t.jsxs)(s.p,{children:[(0,t.jsx)(s.strong,{children:"Full Changelog"}),": ",(0,t.jsx)(s.a,{href:"https://github.com/VirtusLab/besom/compare/v0.2.1...v0.2.2",children:"GitHub (v0.2.1...v0.2.2)"})]}),"\n",(0,t.jsx)(s.h2,{id:"021-15-02-2024",children:"0.2.1 (15-02-2024)"}),"\n",(0,t.jsx)(s.h3,{id:"bug-fixes-2",children:"Bug Fixes"}),"\n",(0,t.jsxs)(s.ul,{children:["\n",(0,t.jsxs)(s.li,{children:["Fix URL validation to allow for kubernetes types ",(0,t.jsx)(s.a,{href:"https://github.com/VirtusLab/besom/pull/385",children:"#385"})]}),"\n",(0,t.jsxs)(s.li,{children:["Loosen up and fix URN parsing ",(0,t.jsx)(s.a,{href:"https://github.com/VirtusLab/besom/pull/389",children:"#389"})]}),"\n",(0,t.jsxs)(s.li,{children:["Fix serializer now skips fields with null value secrets ",(0,t.jsx)(s.a,{href:"https://github.com/VirtusLab/besom/pull/386",children:"#386"})]}),"\n"]}),"\n",(0,t.jsxs)(s.p,{children:[(0,t.jsx)(s.strong,{children:"Full Changelog"}),": ",(0,t.jsx)(s.a,{href:"https://github.com/VirtusLab/besom/compare/v0.2.0...v0.2.1",children:"GitHub (v0.2.0...v0.2.1)"})]}),"\n",(0,t.jsx)(s.h2,{id:"020-08-02-2024",children:"0.2.0 (08-02-2024)"}),"\n",(0,t.jsx)(s.h3,{id:"api-changes",children:"API Changes"}),"\n",(0,t.jsxs)(s.ul,{children:["\n",(0,t.jsxs)(s.li,{children:["\n",(0,t.jsxs)(s.p,{children:["Changed the type of main ",(0,t.jsx)(s.code,{children:"Pulumi.run"})," function from ",(0,t.jsx)(s.code,{children:"Context ?=> Output[Exports]"})," (a ",(0,t.jsx)(s.a,{href:"https://docs.scala-lang.org/scala3/reference/contextual/context-functions.html",children:"context function"})," providing ",(0,t.jsx)(s.code,{children:"besom.Context"}),"\ninstance implicitly in its scope and expecting ",(0,t.jsx)(s.code,{children:"Output[Exports]"})," as returned value) to ",(0,t.jsx)(s.code,{children:"Context ?=> Stack"}),". This change has one core\nreason: it helps us solve a problem related to dry run functionality that was hindered when a external Output was interwoven in the final\nfor-comprehension. External Outputs (Outputs that depend on real return values from Pulumi engine) no-op their flatMap/map chains in dry\nrun similarly to Option's None (because there is no value to feed to the passed function) and therefore led to exports code not being\nexecuted in dry run at all, causing a diff showing that all exports are going to be removed in preview and then recreated in apply phase.\nNew type of ",(0,t.jsx)(s.code,{children:"Pulumi.run"})," function disallows returning of async values - Stack has to be returned unwrapped, synchronously. Stack is just a\ncase class that takes only two arguments: ",(0,t.jsx)(s.code,{children:"exports: Exports"})," and ",(0,t.jsx)(s.code,{children:"dependsOn: Vector[Output[?]]"}),". ",(0,t.jsx)(s.code,{children:"exports"})," serve the same purpose as\nbefore and ",(0,t.jsx)(s.code,{children:"dependsOn"})," is used to ",(0,t.jsx)(s.em,{children:"use"})," all the ",(0,t.jsx)(s.code,{children:"Outputs"})," that have to be evaluated for this stack to be constructed but are not to be\nexported. You can return a ",(0,t.jsx)(s.code,{children:"Stack"})," that only consists of exports (for instance when everything you depend on is composed into a thing that\nyou export in the final step) using ",(0,t.jsx)(s.code,{children:"Stack.export(x = a, y = b)"})," or a ",(0,t.jsx)(s.code,{children:"Stack"})," that has only dependencies when you don't want to export\nanything using ",(0,t.jsx)(s.code,{children:"Stack(x, y)"}),". You can also use some resources and export others using ",(0,t.jsx)(s.code,{children:"Stack(a, b).export(x = i, y = j)"})," syntax.\nHere's an example use of Stack:"]}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-scala",children:'@main def main = Pulumi.run {\n  val awsPolicy = aws.iam.Policy("my-policy",...)\n  val s3 = aws.s3.Bucket("my-bucket")\n  val logMessage = log.info("Creating your bucket!") // logs are values too!\n\n  Stack(logMessage, awsPolicy).exports(\n    url = s3.publicEndpoint\n  )\n}\n'})}),"\n"]}),"\n",(0,t.jsxs)(s.li,{children:["\n",(0,t.jsxs)(s.p,{children:["Improved ",(0,t.jsx)(s.code,{children:"Config"})," ergonomy, by automatic secrets handling and using ",(0,t.jsx)(s.code,{children:"Output[A]"})," as the return value,\nand also adding a helpful error message when a key is missing ",(0,t.jsx)(s.a,{href:"https://github.com/VirtusLab/besom/issues/204",children:"#204"})]}),"\n"]}),"\n",(0,t.jsxs)(s.li,{children:["\n",(0,t.jsxs)(s.p,{children:["Overhauled ",(0,t.jsx)(s.code,{children:"ResourceOptions"})," ",(0,t.jsx)(s.a,{href:"https://github.com/VirtusLab/besom/pull/355",children:"#355"})]}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(s.h3,{id:"new-features",children:"New Features"}),"\n",(0,t.jsxs)(s.ul,{children:["\n",(0,t.jsxs)(s.li,{children:["\n",(0,t.jsxs)(s.p,{children:["added support for Gradle and Maven to the Besom Scala language host ",(0,t.jsx)(s.a,{href:"https://github.com/VirtusLab/besom/issues/303",children:"#303"})]}),"\n"]}),"\n",(0,t.jsxs)(s.li,{children:["\n",(0,t.jsxs)(s.p,{children:[(0,t.jsx)(s.a,{href:"https://www.pulumi.com/docs/concepts/resources/functions/",children:"Provider functions"})," like ",(0,t.jsx)(s.code,{children:"aws.ec2.getAmi"})," were added to Besom.\nThey allow you to use the Pulumi SDK to fetch data from the cloud provider and use it in your program. Here's an example of how to use them:"]}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-scala",children:'@main def main = Pulumi.run {\n  val ami = ec2.getAmi(\n    ec2.GetAmiArgs(\n      filters = List(\n        GetAmiFilterArgs(\n          name = "name",\n          values = List("amzn2-ami-hvm-*-x86_64-ebs")\n        )\n      ),\n      owners = List("137112412989"), // Amazon\n      mostRecent = true\n    )\n  )\n  val server = ec2.Instance("web-server-www", \n    ec2.InstanceArgs(ami = ami.id,...)\n  )\n\n  Stack(server).exports(\n    ami = ami.id\n  )\n}\n'})}),"\n"]}),"\n",(0,t.jsxs)(s.li,{children:["\n",(0,t.jsxs)(s.p,{children:[(0,t.jsx)(s.a,{href:"https://www.pulumi.com/docs/concepts/stack/#stackreferences",children:"Stack References"})," were added to Besom. They allow you to use outputs from\nanother stack as inputs to the current stack. Here's an example of how to use them ",(0,t.jsx)(s.a,{href:"https://github.com/VirtusLab/besom/pull/348",children:"#348"}),":"]}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-scala",children:'@main def main = Pulumi.run {\n  ...\n  Stack.exports(\n    someOutput = "Hello world!",\n  )\n}\n'})}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-scala",children:'@main def main = Pulumi.run {\n  val otherStack = besom.StackReference("stackRef", StackReferenceArgs("organization/source-stack-test/my-stack-name"))\n  val otherStackOutput = otherStack.output[String]("someOutput")\n  ...\n}\n'})}),"\n"]}),"\n",(0,t.jsxs)(s.li,{children:["\n",(0,t.jsxs)(s.p,{children:["Added support for ",(0,t.jsx)(s.a,{href:"https://www.pulumi.com/docs/concepts/resources/get/",children:"Get functions"})," to Besom. You can use the static get function,\nwhich is available on all resource types, to look up an existing resource that is not managed by Pulumi. Here's an example of how to use it:"]}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-scala",children:'@main def main = Pulumi.run {\n  val group = aws.ec2.SecurityGroup.get("group", "sg-0dfd33cdac25b1ec9")\n  ...\n}\n'})}),"\n"]}),"\n",(0,t.jsxs)(s.li,{children:["\n",(0,t.jsxs)(s.p,{children:["Added support for ",(0,t.jsx)(s.a,{href:"https://www.pulumi.com/docs/concepts/config/#structured-configuration",children:"Structured Configuration"}),", this allows user to\nread structured configuration from Pulumi configuration into JSON AST (",(0,t.jsx)(s.code,{children:"config.getJson"})," or ",(0,t.jsx)(s.code,{children:"config.requireJson"}),")\nor deserialize to an object (",(0,t.jsx)(s.code,{children:"config.getObject"})," or ",(0,t.jsx)(s.code,{children:"config.requireObject"}),") ",(0,t.jsx)(s.a,{href:"https://github.com/VirtusLab/besom/issues/207",children:"#207"})]}),"\n"]}),"\n",(0,t.jsxs)(s.li,{children:["\n",(0,t.jsxs)(s.p,{children:["Added new methods to the Besom ",(0,t.jsx)(s.code,{children:"Context"})," and ",(0,t.jsx)(s.code,{children:"Resource"}),", that allow for introspection into basic Pulumi metadata:\n",(0,t.jsx)(s.code,{children:"pulumiResourceName"})," and ",(0,t.jsx)(s.code,{children:"pulumiProject"}),", ",(0,t.jsx)(s.code,{children:"pulumiOrganization"}),", ",(0,t.jsx)(s.code,{children:"pulumiStack"})," ",(0,t.jsx)(s.a,{href:"https://github.com/VirtusLab/besom/issues/295",children:"#295"})]}),"\n"]}),"\n",(0,t.jsxs)(s.li,{children:["\n",(0,t.jsxs)(s.p,{children:["Added support for ",(0,t.jsx)(s.a,{href:"https://www.pulumi.com/docs/intro/concepts/programming-model/#remote-components",children:"Remote Components"})," to Besom\n",(0,t.jsx)(s.a,{href:"https://github.com/VirtusLab/besom/pull/355",children:"#355"}),"."]}),"\n"]}),"\n",(0,t.jsxs)(s.li,{children:["\n",(0,t.jsx)(s.p,{children:"Provider SDKs Code Generator was improved on multiple fronts:"}),"\n",(0,t.jsxs)(s.ul,{children:["\n",(0,t.jsx)(s.li,{children:"normalized the generated code to be more idiomatic and consistent with the rest of the SDK"}),"\n",(0,t.jsx)(s.li,{children:"added support for provider functions and methods"}),"\n",(0,t.jsx)(s.li,{children:"added support for component providers"}),"\n",(0,t.jsxs)(s.li,{children:["added support for convenient provider configuration access ",(0,t.jsx)(s.a,{href:"https://github.com/VirtusLab/besom/issues/259",children:"#259"})]}),"\n",(0,t.jsxs)(s.li,{children:["allow to refer to other resources by reference instead of ID ",(0,t.jsx)(s.a,{href:"https://github.com/VirtusLab/besom/issues/144",children:"#144"})]}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(s.li,{children:["\n",(0,t.jsxs)(s.p,{children:["Improved [NonEmptyString] inference via metaprogramming to find string literals by recursively traversing the AST tree. It now coveres cases where strings are defined directly as ",(0,t.jsx)(s.code,{children:": String"}),", concatenated with ",(0,t.jsx)(s.code,{children:"+"}),", multiplied with ",(0,t.jsx)(s.code,{children:"*"}),", all kinds of interpolators (including ",(0,t.jsx)(s.code,{children:"p"}),"/",(0,t.jsx)(s.code,{children:"pulumi"})," interpolator) are covered. Additionally, some new extension methods are defined to ease work with NES:"]}),"\n",(0,t.jsxs)(s.ul,{children:["\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.code,{children:'"string".toNonEmpty: Option[NonEmptyString]'})," - safe, same as ",(0,t.jsx)(s.code,{children:'NonEmptyString("string")'})]}),"\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.code,{children:'"string".toNonEmptyOrThrow: '}),"NonEmptyString` - an unsafe extension for situations where you just can't be bothered"]}),"\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.code,{children:'"string".toNonEmptyOutput: Output[NonEmptyString]'})," - safe, if the string is empty the returned Output will be failed"]}),"\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.code,{children:'Output("string").toNonEmptyOutput: Output[NonEmptyString]'})," - safe, if the string inside of the Output is empty the returned Output will be failed"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(s.h3,{id:"bug-fixes-3",children:"Bug Fixes"}),"\n",(0,t.jsxs)(s.ul,{children:["\n",(0,t.jsxs)(s.li,{children:["fixed logging via Pulumi RPC and added user-level MDC, now logs are properly displayed in the Pulumi console ",(0,t.jsx)(s.a,{href:"https://github.com/VirtusLab/besom/issues/199",children:"#199"})]}),"\n",(0,t.jsxs)(s.li,{children:["fixed failing gRPC shutdown in our core SDK by correcting the lifecycle handling, now the SDK properly shuts down ",(0,t.jsx)(s.a,{href:"https://github.com/VirtusLab/besom/issues/228",children:"#228"})]}),"\n",(0,t.jsxs)(s.li,{children:["fixed failing gRPC serialisation in multiple cases, now the SDK properly serialises and deserializes messages ",(0,t.jsx)(s.a,{href:"https://github.com/VirtusLab/besom/issues/148",children:"#148"})," ",(0,t.jsx)(s.a,{href:"https://github.com/VirtusLab/besom/issues/150",children:"#150"})]}),"\n",(0,t.jsxs)(s.li,{children:["fixed failing shorthand config key names, now the SDK properly handles shorthand config key names ",(0,t.jsx)(s.a,{href:"https://github.com/VirtusLab/besom/issues/205",children:"#205"})]}),"\n",(0,t.jsxs)(s.li,{children:["fixed ",(0,t.jsx)(s.code,{children:"Output.sequence"}),"/",(0,t.jsx)(s.code,{children:"Result.sequence"})," multiple evaluations issue, now the SDK properly handles multiple evaluations of ",(0,t.jsx)(s.code,{children:"Output.sequence"}),"/",(0,t.jsx)(s.code,{children:"Result.sequence"})," ",(0,t.jsx)(s.a,{href:"https://github.com/VirtusLab/besom/pull/313",children:"#313"})]}),"\n",(0,t.jsxs)(s.li,{children:["fixed failing codecs for provider inputs, now the SDK properly handles provider inputs ",(0,t.jsx)(s.a,{href:"https://github.com/VirtusLab/besom/pull/312",children:"#312"})]}),"\n",(0,t.jsxs)(s.li,{children:["fixed ",(0,t.jsx)(s.code,{children:"Output.traverse"})," runtime exception, now the SDK properly handles ",(0,t.jsx)(s.code,{children:"Output.traverse"})," ",(0,t.jsx)(s.a,{href:"https://github.com/VirtusLab/besom/pull/360",children:"#360"})]}),"\n",(0,t.jsxs)(s.li,{children:["fixed fatal errors hanging the SDK, now the SDK properly handles fatal errors ",(0,t.jsx)(s.a,{href:"https://github.com/VirtusLab/besom/pull/361",children:"#361"})]}),"\n",(0,t.jsxs)(s.li,{children:["fixed resource decoders failing at runtime when handling special resources ",(0,t.jsx)(s.a,{href:"https://github.com/VirtusLab/besom/pull/364",children:"#364"})]}),"\n",(0,t.jsxs)(s.li,{children:["fixed transitive dependency resolution algorithm, now the SDK properly resolves transitive dependencies ",(0,t.jsx)(s.a,{href:"https://github.com/VirtusLab/besom/pull/371",children:"#371"})]}),"\n",(0,t.jsxs)(s.li,{children:["fixed failing code generation for unsupported or malformed schema files, now the generator properly handles schemas ",(0,t.jsx)(s.a,{href:"https://github.com/VirtusLab/besom/pull/265",children:"#265"})," ",(0,t.jsx)(s.a,{href:"https://github.com/VirtusLab/besom/pull/270",children:"#270"})," ",(0,t.jsx)(s.a,{href:"https://github.com/VirtusLab/besom/pull/274",children:"#274"})," ",(0,t.jsx)(s.a,{href:"https://github.com/VirtusLab/besom/pull/329",children:"#329"})," ",(0,t.jsx)(s.a,{href:"https://github.com/VirtusLab/besom/pull/332",children:"#332"})]}),"\n",(0,t.jsxs)(s.li,{children:["fixed failing code generation when clashing names are present in the schema, now the generator properly handles clashing names ",(0,t.jsx)(s.a,{href:"https://github.com/VirtusLab/besom/pull/275",children:"#275"})]}),"\n",(0,t.jsxs)(s.li,{children:["fixed failing code generation schema deserialization for complex types used as underlying types of named types ",(0,t.jsx)(s.a,{href:"https://github.com/VirtusLab/besom/pull/282",children:"#282"})]}),"\n"]}),"\n",(0,t.jsx)(s.h3,{id:"other-changes-2",children:"Other Changes"}),"\n",(0,t.jsxs)(s.ul,{children:["\n",(0,t.jsxs)(s.li,{children:["added more ",(0,t.jsx)(s.a,{href:"https://github.com/VirtusLab/besom/blob/release/v0.2.0/examples/README.md",children:"examples"})," to the Besom repository"]}),"\n",(0,t.jsxs)(s.li,{children:["introduce schema-driven integration tests for ",(0,t.jsx)(s.code,{children:"codegen"})," fed from upstream Pulumi to improve reliability of the code generator"]}),"\n",(0,t.jsx)(s.li,{children:"many internal improvements and refactorings to the codebase to improve the overall quality of the SDK and its maintainability"}),"\n"]}),"\n",(0,t.jsxs)(s.p,{children:[(0,t.jsx)(s.strong,{children:"Full Changelog"}),": ",(0,t.jsx)(s.a,{href:"https://github.com/VirtusLab/besom/compare/v0.1.0...v0.2.0",children:"GitHub (v0.1.0...v0.2.0)"})]})]})}function h(e={}){const{wrapper:s}={...(0,r.R)(),...e.components};return s?(0,t.jsx)(s,{...e,children:(0,t.jsx)(d,{...e})}):d(e)}},8453:(e,s,n)=>{n.d(s,{R:()=>o,x:()=>l});var i=n(6540);const t={},r=i.createContext(t);function o(e){const s=i.useContext(r);return i.useMemo(function(){return"function"==typeof e?e(s):{...s,...e}},[s,e])}function l(e){let s;return s=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:o(e.components),i.createElement(r.Provider,{value:s},e.children)}}}]);